(()=>{"use strict";document.addEventListener("DOMContentLoaded",(function(){e.init()}));const e={interval:[],isInitiated:!1,init:function(t){this.holder=document.querySelectorAll(".qi-block-countdown"),this.holder.length&&[...this.holder].map((l=>{e.initItem(l,t)}))},getRealCurrentItem:function(e){return"string"==typeof e&&""!==e&&(e=qiBlocksEditor.qodefGetCurrentBlockElement.get(e)),e},initItem:function(t,l){const a=l?t:0;if(!(t=e.getRealCurrentItem(t)))return;let r=t.querySelector(".qodef-m-date"),i=e.generateOptions(t);e.initCountdown(r,i,l,a)},generateOptions:function(e){let t={};return t.date=void 0!==e.getAttribute("data-date")?e.getAttribute("data-date"):null,t.hide=void 0!==e.getAttribute("data-hide")?e.getAttribute("data-hide"):null,t.monthLabel=void 0!==e.getAttribute("data-month-label")?e.getAttribute("data-month-label"):"Month",t.monthLabelPlural=void 0!==e.getAttribute("data-month-label-plural")?e.getAttribute("data-month-label-plural"):"Months",t.dayLabel=void 0!==e.getAttribute("data-day-label")?e.getAttribute("data-day-label"):"Day",t.dayLabelPlural=void 0!==e.getAttribute("data-day-label-plural")?e.getAttribute("data-day-label-plural"):"Days",t.hourLabel=void 0!==e.getAttribute("data-hour-label")?e.getAttribute("data-hour-label"):"Hour",t.hourLabelPlural=void 0!==e.getAttribute("data-hour-label-plural")?e.getAttribute("data-hour-label-plural"):"Hours",t.minuteLabel=void 0!==e.getAttribute("data-minute-label")?e.getAttribute("data-minute-label"):"Minute",t.minuteLabelPlural=void 0!==e.getAttribute("data-minute-label-plural")?e.getAttribute("data-minute-label-plural"):"Minutes",t.secondLabel=void 0!==e.getAttribute("data-second-label")?e.getAttribute("data-second-label"):"Second",t.secondLabelPlural=void 0!==e.getAttribute("data-second-label-plural")?e.getAttribute("data-second-label-plural"):"Seconds",t},initCountdown:function(t,l,a,r){!e.isInitiated&&r&&(e.interval[r]=e.initInterval(t,l),e.isInitiated=!0),a&&e.isInitiated&&(clearInterval(e.interval[r]),e.interval[r]=e.initInterval(t,l)),r||e.initInterval(t,l)},initInterval:function(e,t){let l=new Date(t.date).getTime();return setInterval((function(){let a=(new Date).getTime(),r=l-a,i=Math.floor(r/2592e6),n=Math.floor(r%2592e6/864e5),o=Math.floor(r%864e5/36e5),d=Math.floor(r%36e5/6e4),u=Math.floor(r%6e4/1e3);const b="minsec"===t.hide,c="sec"===t.hide,q="mon"===t.hide;q&&(n=Math.floor(r/864e5));let L=e.querySelector(".qodef-months"),f=e.querySelector(".qodef-days"),g=e.querySelector(".qodef-hours"),h=e.querySelector(".qodef-minutes"),s=e.querySelector(".qodef-seconds");q||(L.querySelector(".qodef-label").innerHTML=1===i?t.monthLabel:t.monthLabelPlural),f.querySelector(".qodef-label").innerHTML=1===n?t.dayLabel:t.dayLabelPlural,g.querySelector(".qodef-label").innerHTML=1===o?t.hourLabel:t.hourLabelPlural,b||(h.querySelector(".qodef-label").innerHTML=1===d?t.minuteLabel:t.minuteLabelPlural),b||c||(s.querySelector(".qodef-label").innerHTML=1===u?t.secondLabel:t.secondLabelPlural),i=i<10?"0"+i:i,n=n<10?"0"+n:n,o=o<10?"0"+o:o,d=d<10?"0"+d:d,u=u<10?"0"+u:u,q||(L.querySelector(".qodef-digit").innerHTML=i),f.querySelector(".qodef-digit").innerHTML=n,g.querySelector(".qodef-digit").innerHTML=o,b||(h.querySelector(".qodef-digit").innerHTML=d),b||c||(s.querySelector(".qodef-digit").innerHTML=u),r<0&&(q||(L.querySelector(".qodef-label").innerHTML=t.monthLabelPlural),f.querySelector(".qodef-label").innerHTML=t.dayLabelPlural,g.querySelector(".qodef-label").innerHTML=t.hourLabelPlural,b||(h.querySelector(".qodef-label").innerHTML=t.minuteLabelPlural),b||c||(s.querySelector(".qodef-label").innerHTML=t.secondLabelPlural),q||(L.querySelector(".qodef-digit").innerHTML="00"),f.querySelector(".qodef-digit").innerHTML="00",g.querySelector(".qodef-digit").innerHTML="00",b||(h.querySelector(".qodef-digit").innerHTML="00"),b||c||(s.querySelector(".qodef-digit").innerHTML="00"))}),1e3)}}})();